import{g as f}from"./item-DYlBHeIQ.js";import{_ as b,p as g,c as w,b as v,a as t,w as i,h as u,r as l,i as h,o as C,g as x}from"./index-CBuLFx-0.js";import"./http-BrSQrTbV.js";const F={class:"card-panel panel"},V={__name:"FanficListView",setup(k){const p=u([]),r=u(0),n=h({page:1,size:10}),c=async()=>{const e=await f(n);p.value=(e==null?void 0:e.records)||[],r.value=Number((e==null?void 0:e.total)||0)};return g(c),(e,a)=>{const o=l("el-table-column"),_=l("el-button"),d=l("el-table"),m=l("el-pagination");return C(),w("section",F,[a[2]||(a[2]=v("h2",null,"Fanfic 列表",-1)),t(d,{data:p.value,stripe:""},{default:i(()=>[t(o,{prop:"id",label:"ID",width:"80"}),t(o,{prop:"title",label:"标题","min-width":"180"}),t(o,{prop:"fandom",label:"Fandom",width:"140"}),t(o,{prop:"cp",label:"CP",width:"140"}),t(o,{label:"操作",width:"140"},{default:i(({row:s})=>[t(_,{text:"",onClick:z=>e.$router.push(`/fanfic/${s.id}`)},{default:i(()=>[...a[1]||(a[1]=[x("详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),t(m,{layout:"prev, pager, next",total:r.value,"page-size":n.size,"current-page":n.page,onCurrentChange:a[0]||(a[0]=s=>{n.page=s,c()})},null,8,["total","page-size","current-page"])])}}},L=b(V,[["__scopeId","data-v-eef06be1"]]);export{L as default};

import{g as m,a as g}from"./item-B8raeaaP.js";import{_ as k,p as b,c as a,b as s,e as w,f as y,F as u,l as p,h as v,r as _,o,t as l,a as V,w as h,g as x}from"./index-DpViZ-ad.js";import"./http-DCShZfjV.js";const C={class:"card-panel block"},B={class:"muted"},F={class:"card-panel block"},N={class:"grid"},I={class:"cover"},L={__name:"DashboardView",setup($){const r=v([]),c=v([]);return b(async()=>{const n=await m({page:1,size:5});r.value=(n==null?void 0:n.records)||[];const e=await g({page:1,size:8});c.value=((e==null?void 0:e.records)||[]).filter(i=>i.mediaType!==1).slice(0,6)}),(n,e)=>{const i=_("el-empty"),f=_("el-button");return o(),a("section",null,[e[3]||(e[3]=s("h1",null,"首页",-1)),e[4]||(e[4]=s("p",{class:"sub"},"最近新增 Fanfic + 视觉素材预览",-1)),s("div",C,[e[1]||(e[1]=s("h2",null,"最近添加",-1)),r.value.length===0?(o(),w(i,{key:0,description:"暂无数据"})):y("",!0),(o(!0),a(u,null,p(r.value,t=>(o(),a("div",{key:t.id,class:"fanfic-row"},[s("div",null,[s("strong",null,l(t.title||"未命名作品"),1),s("div",B,l(t.author||"Unknown")+" · "+l(t.fandom||"-")+" / "+l(t.cp||"-"),1)]),V(f,{text:"",onClick:d=>n.$router.push(`/fanfic/${t.id}`)},{default:h(()=>[...e[0]||(e[0]=[x("查看",-1)])]),_:1},8,["onClick"])]))),128))]),s("div",F,[e[2]||(e[2]=s("h2",null,"最近添加",-1)),s("div",N,[(o(!0),a(u,null,p(c.value,(t,d)=>(o(),a("div",{key:d,class:"visual"},[s("div",I,l(t.title||"Visual Item"),1)]))),128))])])])}}},D=k(L,[["__scopeId","data-v-e719c698"]]);export{D as default};

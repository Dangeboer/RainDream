import{_ as k,j as w,r as u,o as _,e as x,w as n,b as t,a as s,g as r,n as g,k as c,c as y,F as T,l as q,t as v,u as C,h as V}from"./index-C-cxag21.js";import{u as N}from"./auth-Dh-fXV66.js";import"./http-DDYn0A1M.js";const A={class:"sidebar-inner"},B={class:"menu home-menu"},L={class:"menu-group"},R={class:"menu"},z={class:"menu-group"},D={class:"menu"},E={__name:"SidebarNav",setup($){const d=[{label:"文章",to:{path:"/fanfic"},group:"content",value:1},{label:"图绘",to:{path:"/items",query:{contentType:2}},group:"content",value:2},{label:"精修",to:{path:"/items",query:{contentType:3}},group:"content",value:3},{label:"混剪",to:{path:"/items",query:{contentType:4}},group:"content",value:4},{label:"解析",to:{path:"/items",query:{contentType:5}},group:"content",value:5},{label:"吐槽",to:{path:"/items",query:{contentType:6}},group:"content",value:6},{label:"主创说",to:{path:"/items",query:{contentType:7}},group:"content",value:7},{label:"RPS",to:{path:"/items",query:{contentType:8}},group:"content",value:8},{label:"其他",to:{path:"/items",query:{contentType:9}},group:"content",value:9}],p=[{label:"文本",to:{path:"/items",query:{mediaType:1}},group:"media",value:1},{label:"图片",to:{path:"/items",query:{mediaType:2}},group:"media",value:2},{label:"视频",to:{path:"/items",query:{mediaType:3}},group:"media",value:3},{label:"链接",to:{path:"/items",query:{mediaType:4}},group:"media",value:4}],a=w(),m=l=>l.group==="content"?l.value===1?a.path==="/fanfic"||a.path.startsWith("/fanfic/"):a.path==="/items"&&a.query.contentType===String(l.value):l.group==="media"?a.path==="/items"&&a.query.mediaType===String(l.value):!1;return(l,e)=>{const b=u("el-button"),i=u("router-link"),h=u("el-scrollbar");return _(),x(h,{class:"sidebar-scroll"},{default:n(()=>[t("div",A,[e[5]||(e[5]=t("div",{class:"logo"},"RainDream",-1)),s(b,{type:"primary",class:"new-btn",onClick:e[0]||(e[0]=o=>l.$router.push("/items/new"))},{default:n(()=>[...e[1]||(e[1]=[r("+ 上传新资源",-1)])]),_:1}),t("nav",B,[s(i,{to:"/dashboard",class:g(["menu-item",{"is-active":c(a).path==="/dashboard"}])},{default:n(()=>[...e[2]||(e[2]=[r("首页",-1)])]),_:1},8,["class"])]),t("section",L,[e[3]||(e[3]=t("div",{class:"menu-title"},"内容",-1)),t("nav",R,[(_(),y(T,null,q(d,o=>s(i,{key:o.label,to:o.to,class:g(["menu-item",{"is-active":m(o)}])},{default:n(()=>[r(v(o.label),1)]),_:2},1032,["to","class"])),64))])]),t("section",z,[e[4]||(e[4]=t("div",{class:"menu-title"},"格式",-1)),t("nav",D,[(_(),y(T,null,q(p,o=>s(i,{key:o.label,to:o.to,class:g(["menu-item",{"is-active":m(o)}])},{default:n(()=>[r(v(o.label),1)]),_:2},1032,["to","class"])),64))])])])]),_:1})}}},F=k(E,[["__scopeId","data-v-364cc28a"]]),I={class:"layout page-shell"},M={class:"sidebar"},U={class:"content"},j={class:"content-inner"},P={class:"topbar card-panel"},W={class:"search-wrap"},G={class:"topbar-actions"},H={class:"user-chip"},J={__name:"LayoutShell",setup($){const d=V(""),p=N(),a=C(),m=()=>{p.logout(),a.push("/login")};return(l,e)=>{const b=u("el-input"),i=u("el-button"),h=u("el-avatar"),o=u("router-view"),S=u("el-scrollbar");return _(),y("div",I,[t("aside",M,[s(F)]),t("main",U,[s(S,{class:"content-scroll"},{default:n(()=>[t("div",j,[t("header",P,[t("div",W,[s(b,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=f=>d.value=f),placeholder:"搜索标题，作者，标签……",clearable:""},null,8,["modelValue"])]),t("div",G,[s(i,{text:"",onClick:e[1]||(e[1]=f=>c(a).push("/tags"))},{default:n(()=>[...e[3]||(e[3]=[r("标签管理",-1)])]),_:1}),s(i,{text:"",onClick:e[2]||(e[2]=f=>c(a).push("/plts"))},{default:n(()=>[...e[4]||(e[4]=[r("平台管理",-1)])]),_:1}),t("div",H,[s(h,{size:28},{default:n(()=>[r(v((c(p).username||"A").slice(0,1).toUpperCase()),1)]),_:1}),t("span",null,v(c(p).username||"Archivist"),1)]),s(i,{text:"",onClick:m},{default:n(()=>[...e[5]||(e[5]=[r("退出登录",-1)])]),_:1})])]),s(o)])]),_:1})])])}}},X=k(J,[["__scopeId","data-v-aad40890"]]);export{X as default};
